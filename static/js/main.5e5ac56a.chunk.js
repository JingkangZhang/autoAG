(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{300:function(e,t){},302:function(e,t){},348:function(e,t,a){"use strict";a.r(t);a(83);var n=a(0),r=a.n(n),s=a(21),l=a.n(s),o=(a(89),a(91),a(93),a(7)),i=a(8),c=a(10),d=a(9),u=a(11),m=a(12),p=(a(95),a(81)),h=a(349),f=a(350),E=a(374),g=a(351),v=a(352),b=a(353),C=a(354),S=a(355),O=a(375),y=a(356),N=a(357),k=a(358),x=a(359),_=a(360),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toggleNav=a.toggleNav.bind(Object(m.a)(Object(m.a)(a))),a.toggleImportPopover=a.toggleImportPopover.bind(Object(m.a)(Object(m.a)(a))),a.toggleHelp=a.toggleHelp.bind(Object(m.a)(Object(m.a)(a))),a.state={navIsOpen:!1,importPopoverOpen:!1,helpOpen:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggleNav",value:function(){this.setState({navIsOpen:!this.state.navIsOpen})}},{key:"toggleImportPopover",value:function(){this.setState({importPopoverOpen:!this.state.importPopoverOpen})}},{key:"toggleHelp",value:function(){this.setState({helpOpen:!this.state.helpOpen})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{className:"topNav",color:"light",light:!0,expand:"sm"},r.a.createElement(f.a,{id:"autoAGBrand"},"autoAG"),r.a.createElement(E.a,{placement:"right",trigger:"hover",target:"autoAGBrand",delay:"{show:0, hide:0}",arrowClassName:"CalTooltipArrow",className:"CalTooltip"},"Much Love For Cal!"),r.a.createElement("span",{id:"navbarPython"},"Python"),r.a.createElement(E.a,{placement:"bottom",trigger:"hover",target:"navbarPython"},"Currently only available in Python. More languange support coming soon."),r.a.createElement(g.a,{onClick:this.toggleNav}),r.a.createElement(v.a,{isOpen:this.state.navIsOpen,navbar:!0},r.a.createElement(b.a,{className:"ml-auto",navbar:!0},r.a.createElement(C.a,null,r.a.createElement(S.a,{onClick:this.toggleHelp},"Help and Usage")),r.a.createElement(O.a,{isOpen:this.state.helpOpen,toggle:this.toggleHelp},r.a.createElement(y.a,{toggle:this.toggleHelp},"Coming Soon..."),r.a.createElement(N.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.a.createElement(k.a,null,r.a.createElement(x.a,{color:"secondary",onClick:this.toggleHelp},"Close"))),r.a.createElement(C.a,null,r.a.createElement(S.a,{onClick:this.toggleImportPopover},"Open")),r.a.createElement(O.a,{isOpen:this.state.importPopoverOpen,toggle:this.toggleImportPopover},r.a.createElement(y.a,{toggle:this.toggleImportPopover},"Select .autoag file to import"),r.a.createElement(N.a,null,r.a.createElement(_.a,{type:"file",name:"file",id:"importFile"})),r.a.createElement(k.a,null,r.a.createElement(x.a,{color:"secondary",onClick:this.toggleImportPopover},"Cancel")," ",r.a.createElement(x.a,{color:"primary",name:"import",onClick:function(t){e.toggleImportPopover(),e.props.formHandler(t)}},"Import"))),r.a.createElement(C.a,null,r.a.createElement(S.a,{name:"save",onClick:this.props.formHandler},"Save Session")),r.a.createElement(C.a,null,r.a.createElement(S.a,{name:"export",onClick:this.props.formHandler},"Export")),r.a.createElement(C.a,null,r.a.createElement(S.a,{className:"githubNav",href:"https://github.com/JingkangZhang/autoAG"},r.a.createElement("svg",{height:"24",class:"octicon octicon-mark-github",viewBox:"0 0 16 16",version:"1.1",width:"32","aria-hidden":"true"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"})))))))}}]),t}(r.a.PureComponent),j=a(369),w=a(361),T=a(362),A=a(364),D=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.functionName,t="",a="";return e.match(/^[a-zA-Z_][a-zA-Z0-9_]*$/)||(a=r.a.createElement("span",{class:"labelAlert",id:"functionNameAlert"+this.props.testIndex},r.a.createElement(E.a,{placement:"right",target:"functionNameAlert"+this.props.testIndex,arrowClassName:"AlertTooltipArrow",className:"AlertTooltip"},"Please enter a valid Python function name.")),t="alertBorder"),r.a.createElement(w.a,null,r.a.createElement("div",{className:t},r.a.createElement(T.a,{for:"functionName"},r.a.createElement("span",null,"Function Name:"),a),r.a.createElement(_.a,{type:"text",name:"functionName",spellcheck:"false",className:"forPlaceHolder codeInput",placeholder:"Fibonacci",onChange:this.props.formHandler,"data-testid":this.props.testIndex,value:e})))}}]),t}(r.a.Component),H=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.props.functionName;var e=this.props.functionParams,t="",a="";return e.match(/^\s*((\*)?(\*)?[a-zA-Z_][a-zA-Z0-9_]*(\s*\=\s*[^ ]+?)?\s*,\s*)*((\*)?(\*)?[a-zA-Z_][a-zA-Z0-9_]*(\s*\=\s*[^ ]+?)?\s*,?\s*)?$/)||(a=r.a.createElement("span",{class:"labelAlert",id:"functionNameAlert"+this.props.testIndex},r.a.createElement(E.a,{placement:"right",target:"functionNameAlert"+this.props.testIndex,arrowClassName:"AlertTooltipArrow",className:"AlertTooltip"},"Please enter a valid Python function parameter list.",r.a.createElement("br",null),' e.g., "arg1, arg2=None, *args, **kwargs".')),t="alertBorder"),r.a.createElement(w.a,null,r.a.createElement("div",{className:t},alert,r.a.createElement(T.a,{for:"functionParams"},r.a.createElement("span",null,"Function Parameters:"),a),r.a.createElement(_.a,{type:"text",name:"functionParams",spellcheck:"false",className:"forPlaceHolder codeInput",placeholder:"arg1, arg2",onChange:this.props.formHandler,"data-testid":this.props.testIndex,value:e})))}}]),t}(r.a.Component),P=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,null,r.a.createElement(T.a,{for:"exampleText"},"Question Description:"),r.a.createElement(_.a,{type:"textarea",name:"formDescription",spellcheck:"false",id:"formDescription",onChange:this.props.formHandler,className:"forPlaceHolder codeInput","data-testid":this.props.testIndex,placeholder:"Return the Nth fibonacci number.",value:this.props.description}))}}]),t}(r.a.Component),B=a(363),U=a(365),F=a(366),q=a(367),R=a(106);function L(e,t){var a,n,r=(e=e.replace(/,\s*$/,"")).split(/,/),s=0,l=!1,o=0,i=!0,c=!1,d=void 0;try{for(var u,m=r[Symbol.iterator]();!(i=(u=m.next()).done);i=!0){var p=u.value;(p=(p=p.replace(/^\s*/,"")).replace(/\s*$/,"")).match(/=/)?s+=1:p.match(/\*/)?l=!0:o+=1}}catch(g){c=!0,d=g}finally{try{i||null==m.return||m.return()}finally{if(c)throw d}}e.match(/^\s*$/)?(n=0,a=0,o=0):(a=o,n=l?666666:s+o);var h=function(e){e=(e=e.replace(/^\s*,/,"")).replace(/,\s*$/,"");for(var t=1,a=[],n=!1,r=0;r<e.length;r++){var s=e.charAt(r);if("'"===s||'"'===s)0!==a.length&&a[a.length-1]===s?(a.pop(),n=!1):(a.push(s),n=!0);else if(!n)if(","===s&&0===a.length)t+=1;else if("("===s||"["===s||"{"===s)a.push(s);else if(")"===s){if(0===a.length||"("!==a[a.length-1])return{count:t,error:!0};a.pop()}else if("]"===s){if(0===a.length||"["!==a[a.length-1])return{count:t,error:!0};a.pop()}else if("}"===s){if(0===a.length||"{"!==a[a.length-1])return{count:t,error:!0};a.pop()}}if(0!==a.length)return console.log("ended, returning error here"),console.log(a),{count:t,error:!0};return{count:t,error:!1}}(t),f=t.match(/^\s*$/)?0:h.count,E=f>=a&&f<=n&&!h.error;return{result:Boolean(E),numRegular:o,numEqSigns:s,starPresents:l,error:h.error,count:h.count,realCount:f}}var G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleToggle=a.handleToggle.bind(Object(m.a)(Object(m.a)(a))),a.onExiting=a.onExiting.bind(Object(m.a)(Object(m.a)(a))),a.onExited=a.onExited.bind(Object(m.a)(Object(m.a)(a))),a.state={collapse:!1,numErrors:0,status:"Opened"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleToggle",value:function(e){this.setState({collapse:!this.state.collapse})}},{key:"onExiting",value:function(){this.setState({status:"Closing..."})}},{key:"onExited",value:function(){this.setState({status:"Closed"})}},{key:"componentDidUpdate",value:function(e,t){var a=document.querySelectorAll("#formTestCase"+this.props.testIndex+" .alertTestCaseBorder").length;t.numErrors!==a&&this.setState({numErrors:a})}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.testCases.length;t++)e.push(r.a.createElement(M,{testCaseData:this.props.testCases[t],testCaseIndex:t,testIndex:this.props.testIndex,functionName:this.props.functionName,functionParams:this.props.functionParams,formHandler:this.props.formHandler}));return r.a.createElement(B.a,null,r.a.createElement(x.a,{className:"testCaseHeader",color:"dark",onClick:this.handleToggle},"Test Cases",0!==this.state.numErrors&&this.state.collapse&&"Closed"===this.state.status?r.a.createElement(A.a,{className:"numErrorBadge",color:"danger",pill:!0},this.state.numErrors):""),r.a.createElement(v.a,{isOpen:!this.state.collapse,onExiting:this.onExiting,onExited:this.onExited},r.a.createElement("div",{class:"testCasesGroup"},e,r.a.createElement(x.a,{name:"addTestCase",className:"addTestCaseButton","data-testid":this.props.testIndex,onClick:this.props.formHandler,color:"secondary",size:"sm"},"Add Test Case"),r.a.createElement("div",{class:"testCaseBottomBorder"}))))}}]),t}(r.a.Component),M=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="",t="",a=L(this.props.functionParams,this.props.testCaseData[0]);if(!a.result){var n="";n=a.error?"You have an unmatched symbol error in your No."+a.count+" argument.":!0===a.starPresents?"You are supposed to pass in at least "+a.numRegular+" arguments. Found "+a.realCount+".":0===a.numEqSigns?"You are supposed to pass in "+a.numRegular+" arguments. Found "+a.realCount+".":"You are supposed to pass in "+a.numRegular+" required arguments, "+a.numEqSigns+" optional arguments. Found "+a.realCount+".",t=r.a.createElement("span",{class:"testCaseAlert",id:"testCaseAlert"+this.props.testIndex+"_"+this.props.testCaseIndex},r.a.createElement(E.a,{placement:"right",target:"testCaseAlert"+this.props.testIndex+"_"+this.props.testCaseIndex,arrowClassName:"AlertTooltipArrow",className:"AlertTooltip"},n)),e="alertTestCaseBorder"}return r.a.createElement(U.a,{className:e},r.a.createElement("div",{class:"tg"},r.a.createElement("span",{class:"tgAlert"},t),r.a.createElement("span",{class:"tgInput"},r.a.createElement(F.a,null,r.a.createElement(q.a,{addonType:"prepend"},r.a.createElement(R.a,null,this.props.functionName+" (")),r.a.createElement(_.a,{placeholder:this.props.functionParams,spellcheck:"false",className:"forPlaceHolder",name:"testCaseInput","data-testid":this.props.testIndex,"data-testcaseid":this.props.testCaseIndex,onChange:this.props.formHandler,value:this.props.testCaseData[0]}),r.a.createElement(q.a,{addonType:"append"},r.a.createElement(R.a,null,")")))),r.a.createElement("span",{class:"tgArrow"},r.a.createElement("svg",{id:"rightArrowSVG",xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27",viewBox:"0 0 408 408"},r.a.createElement("polygon",{id:"rightArrowPath",points:"204,102 204,0 408,204 204,408 204,306 0,306 0,102   "}))),r.a.createElement("span",{class:"tgOutput"},r.a.createElement(_.a,{placeholder:"expected output",spellcheck:"false",className:"forPlaceHolder",name:"testCaseOutput","data-testid":this.props.testIndex,"data-testcaseid":this.props.testCaseIndex,onChange:this.props.formHandler,value:this.props.testCaseData[1]})),r.a.createElement("button",{class:"testCaseDelete",name:"testCaseDelete","data-testid":this.props.testIndex,"data-testcaseid":this.props.testCaseIndex,onClick:this.props.formHandler})))}}]),t}(r.a.Component),W=G,Y=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.fullScore,t="",a="";return(""===e||isNaN(e))&&(a=r.a.createElement("span",{class:"labelAlert",id:"fullScoreAlert"+this.props.testIndex},r.a.createElement(E.a,{placement:"right",target:"fullScoreAlert"+this.props.testIndex,arrowClassName:"AlertTooltipArrow",className:"AlertTooltip"},"Please enter a valid number.")),t="alertBorder"),r.a.createElement(w.a,{className:"advancedSettingItem"},r.a.createElement("div",{className:t},r.a.createElement(T.a,{for:"fullScore"},r.a.createElement("span",null,"Full Score:"),a),r.a.createElement(_.a,{type:"text",name:"fullScore",className:"forPlaceHolder",placeholder:"1",onChange:this.props.formHandler,"data-testid":this.props.testIndex,value:e})))}}]),t}(r.a.Component),z=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{className:"advancedSettingItem"},r.a.createElement(T.a,{for:"testType"},"Test Type:"),r.a.createElement(_.a,{type:"select",name:"testType",onChange:this.props.formHandler,"data-testid":this.props.testIndex,value:this.props.testType},r.a.createElement("option",{value:"simple"},"simple function"),r.a.createElement("option",{value:"unit"},"unit test (coming soon)")))}}]),t}(r.a.Component),$=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{className:"advancedSettingItem"},r.a.createElement(T.a,{for:"testName"},"Test Name:"),r.a.createElement(_.a,{type:"text",name:"testName",spellcheck:"false",className:"forPlaceHolder codeInput",placeholder:"Default: "+this.props.functionName,onChange:this.props.formHandler,"data-testid":this.props.testIndex,value:this.props.testName}))}}]),t}(r.a.Component),J=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{className:"advancedSettingItem"},r.a.createElement(T.a,{for:"partialCredits"},"Partial Credits:"),r.a.createElement(_.a,{type:"select",name:"partialCredits",onChange:this.props.formHandler,"data-testid":this.props.testIndex,value:this.props.partialCredits},r.a.createElement("option",{value:"none"},"none"),r.a.createElement("option",{value:"linear"},"linear (coming soon)")))}}]),t}(r.a.Component),Z=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{className:"advancedSettingItem"},r.a.createElement(T.a,{for:"skeletonCode"},"Skeleton Code:"),r.a.createElement(_.a,{type:"textarea",name:"skeletonCode",onChange:this.props.formHandler,"data-testid":this.props.testIndex,className:"forPlaceHolder",placeholder:"'*** YOUR CODE HERE ***'",value:this.props.skeletonCode}))}}]),t}(r.a.Component),K=a(368),Q=(a(107),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={modal:!1},a.toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e="",t="";return this.props.disallowedUse.match(/^(?:\s*(["'])(?:Add|And|Assert|Assign|AugAssign|BitAnd|BitOr|BitXor|Break|Recursion|ClassDef|Continue|Del|Delete|Dict|DictComp|Div|Ellipsis|Eq|ExceptHandler|ExtSlice|FloorDiv|For|FunctionDef|GeneratorExp|Global|Gt|GtE|If|IfExp|Import|ImportFrom|In|Index|Invert|Is|IsNot|LShift|Lambda|List|ListComp|Lt|LtE|Mod|Mult|Nonlocal|Not|NotEq|NotIn|Or|Pass|Pow|RShift|Raise|Return|Set|SetComp|Slice|Starred|Sub|Subscript|Try|Tuple|UAdd|USub|While|With|Yield|YieldFrom)\1\s*,\s*)*(?:\s*(["'])(?:Add|And|Assert|Assign|AugAssign|BitAnd|BitOr|BitXor|Break|Recursion|ClassDef|Continue|Del|Delete|Dict|DictComp|Div|Ellipsis|Eq|ExceptHandler|ExtSlice|FloorDiv|For|FunctionDef|GeneratorExp|Global|Gt|GtE|If|IfExp|Import|ImportFrom|In|Index|Invert|Is|IsNot|LShift|Lambda|List|ListComp|Lt|LtE|Mod|Mult|Nonlocal|Not|NotEq|NotIn|Or|Pass|Pow|RShift|Raise|Return|Set|SetComp|Slice|Starred|Sub|Subscript|Try|Tuple|UAdd|USub|While|With|Yield|YieldFrom)\2\s*)?$/)||(t=r.a.createElement("span",{class:"labelAlert",id:"disallowedUseAlert"+this.props.testIndex},r.a.createElement(E.a,{placement:"right",target:"disallowedUseAlert"+this.props.testIndex,arrowClassName:"AlertTooltipArrow",className:"AlertTooltip"},"Please enter valid names (exactly as shown, case sensitive) surrounded by quotes and separated by commas.")),e="alertBorder"),r.a.createElement(w.a,{className:"advancedSettingItem"},r.a.createElement("div",{className:e},r.a.createElement(T.a,{for:"disallowedUse"},r.a.createElement("span",null,"Disallowed Use:",r.a.createElement("span",{class:"disallowedUseModalLauncher",onClick:this.toggle},"?"),r.a.createElement(X,{modal:this.state.modal,toggle:this.toggle})),t),r.a.createElement(_.a,{type:"text",name:"disallowedUse",spellcheck:"false",className:"forPlaceHolder",placeholder:"'While', 'For'",onChange:this.props.formHandler,"data-testid":this.props.testIndex,value:this.props.disallowedUse})))}}]),t}(r.a.Component)),X=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,{isOpen:this.props.modal,toggle:this.props.toggle},r.a.createElement(y.a,null,"Construct Check For Disallowed Use"),r.a.createElement(N.a,null,r.a.createElement("p",null,"Credits: Berkeley CS61A course staff."),r.a.createElement("p",null,"This amazing python module wrote by CS61A staff checks for certain usage patterns in a python file. Very useful, for example, when you want your testees write a recursive/iterative solution without using loops/recursive calls."),r.a.createElement("p",null,"To include these checks for disallowed usages, put the names on the left column in quotes and separate them with commas."),r.a.createElement("p",null,"e.g., 'Add', 'Pow'"),r.a.createElement(K.a,{size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Pattern"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Add"),r.a.createElement("td",null,"+")),r.a.createElement("tr",null,r.a.createElement("td",null,"And"),r.a.createElement("td",null,"and")),r.a.createElement("tr",null,r.a.createElement("td",null,"Assert"),r.a.createElement("td",null,"assert")),r.a.createElement("tr",null,r.a.createElement("td",null,"Assign"),r.a.createElement("td",null,"=")),r.a.createElement("tr",null,r.a.createElement("td",null,"AugAssign"),r.a.createElement("td",null,"op=")),r.a.createElement("tr",null,r.a.createElement("td",null,"BitAnd"),r.a.createElement("td",null,"&")),r.a.createElement("tr",null,r.a.createElement("td",null,"BitOr"),r.a.createElement("td",null,"|")),r.a.createElement("tr",null,r.a.createElement("td",null,"BitXor"),r.a.createElement("td",null,"^")),r.a.createElement("tr",null,r.a.createElement("td",null,"Break"),r.a.createElement("td",null,"break")),r.a.createElement("tr",null,r.a.createElement("td",null,"Recursion"),r.a.createElement("td",null,"recursive call")),r.a.createElement("tr",null,r.a.createElement("td",null,"ClassDef"),r.a.createElement("td",null,"class")),r.a.createElement("tr",null,r.a.createElement("td",null,"Continue"),r.a.createElement("td",null,"continue")),r.a.createElement("tr",null,r.a.createElement("td",null,"Del"),r.a.createElement("td",null,"del")),r.a.createElement("tr",null,r.a.createElement("td",null,"Delete"),r.a.createElement("td",null,"delete")),r.a.createElement("tr",null,r.a.createElement("td",null,"Dict"),r.a.createElement("td",null,"{","...","}")),r.a.createElement("tr",null,r.a.createElement("td",null,"DictComp"),r.a.createElement("td",null,"{","...","}")),r.a.createElement("tr",null,r.a.createElement("td",null,"Div"),r.a.createElement("td",null,"/")),r.a.createElement("tr",null,r.a.createElement("td",null,"Ellipsis"),r.a.createElement("td",null,"...")),r.a.createElement("tr",null,r.a.createElement("td",null,"Eq"),r.a.createElement("td",null,"==")),r.a.createElement("tr",null,r.a.createElement("td",null,"ExceptHandler"),r.a.createElement("td",null,"except")),r.a.createElement("tr",null,r.a.createElement("td",null,"ExtSlice"),r.a.createElement("td",null,"[::]")),r.a.createElement("tr",null,r.a.createElement("td",null,"FloorDiv"),r.a.createElement("td",null,"//")),r.a.createElement("tr",null,r.a.createElement("td",null,"For"),r.a.createElement("td",null,"for")),r.a.createElement("tr",null,r.a.createElement("td",null,"FunctionDef"),r.a.createElement("td",null,"def")),r.a.createElement("tr",null,r.a.createElement("td",null,"GeneratorExp"),r.a.createElement("td",null,"(... for ...)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Global"),r.a.createElement("td",null,"global")),r.a.createElement("tr",null,r.a.createElement("td",null,"Gt"),r.a.createElement("td",null,">")),r.a.createElement("tr",null,r.a.createElement("td",null,"GtE"),r.a.createElement("td",null,">=")),r.a.createElement("tr",null,r.a.createElement("td",null,"If"),r.a.createElement("td",null,"if")),r.a.createElement("tr",null,r.a.createElement("td",null,"IfExp"),r.a.createElement("td",null,"...if...else...")),r.a.createElement("tr",null,r.a.createElement("td",null,"Import"),r.a.createElement("td",null,"import")),r.a.createElement("tr",null,r.a.createElement("td",null,"ImportFrom"),r.a.createElement("td",null,"from ... import ...")),r.a.createElement("tr",null,r.a.createElement("td",null,"In"),r.a.createElement("td",null,"in")),r.a.createElement("tr",null,r.a.createElement("td",null,"Index"),r.a.createElement("td",null,"...[...]")),r.a.createElement("tr",null,r.a.createElement("td",null,"Invert"),r.a.createElement("td",null,"~")),r.a.createElement("tr",null,r.a.createElement("td",null,"Is"),r.a.createElement("td",null,"is")),r.a.createElement("tr",null,r.a.createElement("td",null,"IsNot"),r.a.createElement("td",null,"is not ")),r.a.createElement("tr",null,r.a.createElement("td",null,"LShift"),r.a.createElement("td",null,"<<")),r.a.createElement("tr",null,r.a.createElement("td",null,"Lambda"),r.a.createElement("td",null,"lambda")),r.a.createElement("tr",null,r.a.createElement("td",null,"List"),r.a.createElement("td",null,"[...]")),r.a.createElement("tr",null,r.a.createElement("td",null,"ListComp"),r.a.createElement("td",null,"[...for...]")),r.a.createElement("tr",null,r.a.createElement("td",null,"Lt"),r.a.createElement("td",null,"<")),r.a.createElement("tr",null,r.a.createElement("td",null,"LtE"),r.a.createElement("td",null,"<=")),r.a.createElement("tr",null,r.a.createElement("td",null,"Mod"),r.a.createElement("td",null,"%")),r.a.createElement("tr",null,r.a.createElement("td",null,"Mult"),r.a.createElement("td",null,"*")),r.a.createElement("tr",null,r.a.createElement("td",null,"Nonlocal"),r.a.createElement("td",null,"nonlocal")),r.a.createElement("tr",null,r.a.createElement("td",null,"Not"),r.a.createElement("td",null,"not")),r.a.createElement("tr",null,r.a.createElement("td",null,"NotEq"),r.a.createElement("td",null,"!=")),r.a.createElement("tr",null,r.a.createElement("td",null,"NotIn"),r.a.createElement("td",null,"not in")),r.a.createElement("tr",null,r.a.createElement("td",null,"Or"),r.a.createElement("td",null,"or")),r.a.createElement("tr",null,r.a.createElement("td",null,"Pass"),r.a.createElement("td",null,"pass")),r.a.createElement("tr",null,r.a.createElement("td",null,"Pow"),r.a.createElement("td",null,"**")),r.a.createElement("tr",null,r.a.createElement("td",null,"RShift"),r.a.createElement("td",null,">>")),r.a.createElement("tr",null,r.a.createElement("td",null,"Raise"),r.a.createElement("td",null,"raise")),r.a.createElement("tr",null,r.a.createElement("td",null,"Return"),r.a.createElement("td",null,"return")),r.a.createElement("tr",null,r.a.createElement("td",null,"Set"),r.a.createElement("td",null,"{"," ... ","}"," (set)")),r.a.createElement("tr",null,r.a.createElement("td",null,"SetComp"),r.a.createElement("td",null,"{"," ... for ... ","}"," (set)")),r.a.createElement("tr",null,r.a.createElement("td",null,"Slice"),r.a.createElement("td",null,"[ : ]")),r.a.createElement("tr",null,r.a.createElement("td",null,"Starred"),r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("td",null,"Sub"),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"Subscript"),r.a.createElement("td",null,"[]")),r.a.createElement("tr",null,r.a.createElement("td",null,"Try"),r.a.createElement("td",null,"try")),r.a.createElement("tr",null,r.a.createElement("td",null,"Tuple"),r.a.createElement("td",null,"(... , ... )")),r.a.createElement("tr",null,r.a.createElement("td",null,"UAdd"),r.a.createElement("td",null,"+")),r.a.createElement("tr",null,r.a.createElement("td",null,"USub"),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"While"),r.a.createElement("td",null,"while")),r.a.createElement("tr",null,r.a.createElement("td",null,"With"),r.a.createElement("td",null,"with")),r.a.createElement("tr",null,r.a.createElement("td",null,"Yield"),r.a.createElement("td",null,"yield")),r.a.createElement("tr",null,r.a.createElement("td",null,"YieldFrom"),r.a.createElement("td",null,"yield from"))))),r.a.createElement(k.a,null,r.a.createElement(x.a,{color:"secondary",onClick:this.props.toggle},"Close")))}}]),t}(r.a.Component),V=Q,ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleToggle=a.handleToggle.bind(Object(m.a)(Object(m.a)(a))),a.onExiting=a.onExiting.bind(Object(m.a)(Object(m.a)(a))),a.onExited=a.onExited.bind(Object(m.a)(Object(m.a)(a))),a.state={collapse:!0,numErrors:0,status:"Closed"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleToggle",value:function(e){this.setState({collapse:!this.state.collapse})}},{key:"onExiting",value:function(){this.setState({status:"Closing..."})}},{key:"onExited",value:function(){this.setState({status:"Closed"})}},{key:"componentDidUpdate",value:function(e,t){var a=document.querySelectorAll("#formTestCase"+this.props.testIndex+" .advancedSetting .alertBorder").length;t.numErrors!==a&&this.setState({numErrors:a})}},{key:"render",value:function(){return r.a.createElement("div",{class:"advancedSetting"},r.a.createElement(x.a,{className:"advancedSettingHeader",color:"dark",onClick:this.handleToggle},"Advanced Settings",0!==this.state.numErrors&&this.state.collapse&&"Closed"===this.state.status?r.a.createElement(A.a,{className:"numErrorBadge",color:"danger",pill:!0},this.state.numErrors):""),r.a.createElement(v.a,{isOpen:!this.state.collapse,onExiting:this.onExiting,onExited:this.onExited},r.a.createElement("div",{class:"advancedSettingGroup"},this.props.pointsEnabled&&r.a.createElement(Y,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,fullScore:this.props.advancedSetting.fullScore}),this.props.pointsEnabled&&r.a.createElement(J,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,partialCredits:this.props.advancedSetting.partialCredits}),r.a.createElement(z,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,testType:this.props.advancedSetting.testType}),r.a.createElement($,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,functionName:this.props.functionName,testName:this.props.advancedSetting.testName}),r.a.createElement(Z,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,skeletonCode:this.props.advancedSetting.skeletonCode}),r.a.createElement(V,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,disallowedUse:this.props.advancedSetting.disallowedUse}),r.a.createElement("div",{class:"advancedSettingBottomBorder"}))))}}]),t}(r.a.Component),te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleToggle=a.handleToggle.bind(Object(m.a)(Object(m.a)(a))),a.onExiting=a.onExiting.bind(Object(m.a)(Object(m.a)(a))),a.onExited=a.onExited.bind(Object(m.a)(Object(m.a)(a))),a.state={collapse:!1,numErrors:0,status:"Closed"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleToggle",value:function(e){this.setState({collapse:!this.state.collapse})}},{key:"onExiting",value:function(){this.setState({status:"Closing..."})}},{key:"onExited",value:function(){this.setState({status:"Closed"})}},{key:"componentDidUpdate",value:function(e,t){var a=document.querySelectorAll("#formTestCase"+this.props.testIndex+" .alertBorder").length+document.querySelectorAll("#formTestCase"+this.props.testIndex+" .alertTestCaseBorder").length;t.numErrors!==a&&this.setState({numErrors:a})}},{key:"render",value:function(){return r.a.createElement("div",{class:"formTestCase",id:"formTestCase"+this.props.testIndex},r.a.createElement(x.a,{className:"testHeader",onClick:this.handleToggle},"Q"+(this.props.testIndex+1)+" : ",""!==this.props.testData.advancedSetting.testName.replace(/\s/g,"")?this.props.testData.advancedSetting.testName.replace(/\s/g,""):""===this.props.testData.functionName?"Untitled":this.props.testData.functionName,0!==this.state.numErrors&&this.state.collapse&&"Closed"===this.state.status?r.a.createElement(A.a,{className:"numErrorBadge",color:"danger",pill:!0},this.state.numErrors):""),r.a.createElement("span",{className:"headerButtonGroup"},r.a.createElement(x.a,{className:"headerButton",name:"headerButtonUp","data-testid":this.props.testIndex,onClick:this.props.formHandler},"up"),r.a.createElement(x.a,{className:"headerButton",name:"headerButtonDown","data-testid":this.props.testIndex,onClick:this.props.formHandler},"down"),r.a.createElement(x.a,{className:"headerButton",name:"headerButtonDelete","data-testid":this.props.testIndex,onClick:this.props.formHandler},"delete"),r.a.createElement(x.a,{className:"headerButton",name:"headerButtonDuplicate","data-testid":this.props.testIndex,onClick:this.props.formHandler},"duplicate")),r.a.createElement(v.a,{isOpen:!this.state.collapse,onExiting:this.onExiting,onExited:this.onExited},r.a.createElement("div",{className:"testCaseBody"},r.a.createElement(D,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,functionName:this.props.testData.functionName}),r.a.createElement(H,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,functionName:this.props.testData.functionName,functionParams:this.props.testData.functionParams}),r.a.createElement(P,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,description:this.props.testData.description}),r.a.createElement(W,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,functionName:this.props.testData.functionName,functionParams:this.props.testData.functionParams,testCases:this.props.testData.testCases}),r.a.createElement(ee,{formHandler:this.props.formHandler,testIndex:this.props.testIndex,pointsEnabled:this.props.pointsEnabled,functionName:this.props.testData.functionName,advancedSetting:this.props.testData.advancedSetting}))))}}]),t}(r.a.Component),ae=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.formState.tests.length;t++)e.push(r.a.createElement(te,{testData:this.props.formState.tests[t],testIndex:t,pointsEnabled:this.props.formState.pointsEnabled,formHandler:this.props.formHandler}));return r.a.createElement(j.a,{className:"InputField"},r.a.createElement(ne,{formHandler:this.props.formHandler,pointsEnabled:this.props.formState.pointsEnabled}),r.a.createElement(re,{formHandler:this.props.formHandler,starterCode:this.props.formState.starterCode}),e,r.a.createElement(x.a,{name:"addTest",onClick:this.props.formHandler,color:"secondary",size:"sm"},"Add Question"))}}]),t}(r.a.Component),ne=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{className:"pointsEnabledGroup",check:!0},r.a.createElement(T.a,{check:!0},r.a.createElement("span",{class:"pointsEnabledButtonGroup","data-content":this.props.pointsEnabled?"Scored":"Unscored"},r.a.createElement("input",{class:"tgl tgl-light pointsEnabled",id:"cb1",type:"checkbox",name:"pointsEnabled",onChange:this.props.formHandler,checked:this.props.pointsEnabled}),r.a.createElement("label",{class:"tgl-btn",for:"cb1"}))))}}]),t}(r.a.Component),re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleToggle=a.handleToggle.bind(Object(m.a)(Object(m.a)(a))),a.state={collapse:!0},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleToggle",value:function(e){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){return r.a.createElement("div",{class:"starterCodeForm"},r.a.createElement(x.a,{className:"starterCodeHeader",onClick:this.handleToggle},"Starter Code"),r.a.createElement(v.a,{isOpen:!this.state.collapse},r.a.createElement("div",null,r.a.createElement(j.a,null,r.a.createElement(w.a,{id:"starterFormGroup"},r.a.createElement(T.a,{for:"starterCodeTextarea"},"To be placed at the beginning of the homework file. "),r.a.createElement(_.a,{type:"textarea",value:this.props.starterCode,onChange:this.props.formHandler,name:"starterCode",id:"starterCodeTextarea",className:"codeInput forPlaceHolder",placeholder:"from math import *"}))))))}}]),t}(r.a.Component),se=ae,le=a(370),oe=a(371),ie=a(372),ce=a(373),de=a(3),ue=a.n(de),me=a(35),pe=a.n(me);function he(e){var t="";""!==(t+=e.starterCode)&&(t+="\n\n");for(var a=0;a<e.tests.length;a++){var n=e.tests[a];t+="# Q"+(a+1)+": ";var r=""!==n.advancedSetting.testName.replace(/\s/g,"")?n.advancedSetting.testName.replace(/\s/g,""):n.functionName;t+=r,t+="\n",e.pointsEnabled&&(t+="# Full score: "+n.advancedSetting.fullScore,t+="\n"),t+="# Type `python3 test "+r+"` in terminal\n",t+="#    to run tests on this question. \n",t+="def "+n.functionName+"("+n.functionParams+"):\n";var s="    ";s+="'''",s+=n.description,s+="\n\n";for(var l=0;l<n.testCases.length;l++)if(l<4){var o=n.testCases[l];s+=">>> "+n.functionName+"("+o[0]+")\n",s+=o[1]+"\n"}s+="'''",s+="\n",s+=n.advancedSetting.skeletonCode,t=(t+=(s+="\n\n").split("\n").join("\n    ")).slice(0,-1),t+="\n"}return t}var fe=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=he(this.props.formState);return r.a.createElement(pe.a,{className:"python "+this.props.className},e)}}]),t}(r.a.Component),Ee=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=this.props.testCases,t=this.props.testName,a=this.props.fullScore,n=this.props.disallowedUse,s=this.props.pointsEnabled,l=[],o=this.props.testCases.length,i=0;i<o;i++){var c={backgroundColor:"hsl("+360/o*i+", 40%, 93%)"};l.push(r.a.createElement("li",{class:"testSummaryTestCase",style:c},r.a.createElement("span",{class:"testSummaryInput"},e[i][0]),r.a.createElement("span",null,"=>"),r.a.createElement("span",{class:"testSummaryOutput"},e[i][1])))}return r.a.createElement("ul",{class:"testSummaryQuestion"},r.a.createElement("li",{class:"testSummaryTestName"},t+(s?"  ("+a+" Pts)":"")),""!==n.replace(/\s/g,"")?r.a.createElement("li",{class:"testSummaryDisallowedUse"}," ","Disallowed Usages: "+n," "):"",r.a.createElement("span",{class:"TSTestCases"},"Test Cases: "),r.a.createElement("ul",{class:"testSummaryTestCases"},l))}}]),t}(r.a.Component);var ge=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=this.props.formState,t=[],a=e.tests,n=0;n<a.length;n++)t.push(r.a.createElement(Ee,{testName:"Q"+(n+1)+": "+(""!==a[n].advancedSetting.testName.replace(/\s/g,"")?a[n].advancedSetting.testName:a[n].functionName),disallowedUse:a[n].advancedSetting.disallowedUse,fullScore:a[n].advancedSetting.fullScore,testCases:a[n].testCases,pointsEnabled:e.pointsEnabled}));return r.a.createElement("div",{class:"testSummary"},e.pointsEnabled?r.a.createElement("span",{id:"TSTotalScore"},"Total Score: ",function(e){for(var t=0,a=0;a<e.length;a++)t+=parseInt(e[a].advancedSetting.fullScore);return t}(e.tests)):r.a.createElement("span",{id:"TSTotalScore"},"Score Disabled."),t)}}]),t}(r.a.Component),ve=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a.state={activeTab:"1"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"gcd"},r.a.createElement("div",{class:"outputField"},r.a.createElement(b.a,{tabs:!0},r.a.createElement(C.a,null,r.a.createElement(S.a,{className:ue()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},"homework.py")),r.a.createElement(C.a,null,r.a.createElement(S.a,{className:ue()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},"test summary"))),r.a.createElement(le.a,{activeTab:this.state.activeTab},r.a.createElement(oe.a,{tabId:"1"},r.a.createElement(ie.a,null,r.a.createElement(ce.a,{sm:"12"},r.a.createElement(fe,{className:"homeworkPreview",formState:this.props.formState})))),r.a.createElement(oe.a,{tabId:"2"},r.a.createElement(ie.a,null,r.a.createElement(ce.a,null,r.a.createElement(ge,{formState:this.props.formState})))))))}}]),t}(r.a.Component),be=a(79),Ce=a.n(be),Se=a(80),Oe=a.n(Se),ye="from ast import parse, NodeVisitor, Name\r\nimport traceback\r\n_NAMES = {\r\n    'Add': '+',\r\n    'And': 'and',\r\n    'Assert': 'assert',\r\n    'Assign': '=',\r\n    'AugAssign': 'op=',\r\n    'BitAnd': '&',\r\n    'BitOr': '|',\r\n    'BitXor': '^',\r\n    'Break': 'break',\r\n    'Recursion': 'recursive call',\r\n    'ClassDef': 'class',\r\n    'Continue': 'continue',\r\n    'Del': 'del',\r\n    'Delete': 'delete',\r\n    'Dict': '{...}',\r\n    'DictComp': '{...}',\r\n    'Div': '/',\r\n    'Ellipsis': '...',\r\n    'Eq': '==',\r\n    'ExceptHandler': 'except',\r\n    'ExtSlice': '[::]',\r\n    'FloorDiv': '//',\r\n    'For': 'for',\r\n    'FunctionDef': 'def',\r\n    'GeneratorExp': '(... for ...)',\r\n    'Global': 'global',\r\n    'Gt': '>',\r\n    'GtE': '>=',\r\n    'If': 'if',\r\n    'IfExp': '...if...else...',\r\n    'Import': 'import',\r\n    'ImportFrom': 'from ... import ...',\r\n    'In': 'in',\r\n    'Index': '...[...]',\r\n    'Invert': '~',\r\n    'Is': 'is',\r\n    'IsNot': 'is not ',\r\n    'LShift': '<<',\r\n    'Lambda': 'lambda',\r\n    'List': '[...]',\r\n    'ListComp': '[...for...]',\r\n    'Lt': '<',\r\n    'LtE': '<=',\r\n    'Mod': '%',\r\n    'Mult': '*',\r\n    'Nonlocal': 'nonlocal',\r\n    'Not': 'not',\r\n    'NotEq': '!=',\r\n    'NotIn': 'not in',\r\n    'Or': 'or',\r\n    'Pass': 'pass',\r\n    'Pow': '**',\r\n    'RShift': '>>',\r\n    'Raise': 'raise',\r\n    'Return': 'return',\r\n    'Set': '{ ... } (set)',\r\n    'SetComp': '{ ... for ... } (set)',\r\n    'Slice': '[ : ]',\r\n    'Starred': '',\r\n    'Sub': '-',\r\n    'Subscript': '[]',\r\n    'Try': 'try',\r\n    'Tuple': '(... , ... )',\r\n    'UAdd': '+',\r\n    'USub': '-',\r\n    'While': 'while',\r\n    'With': 'with',\r\n    'Yield': 'yield',\r\n    'YieldFrom': 'yield from',\r\n}\r\ndef check(source_file, checked_funcs, disallow, source=None):\r\n    \"\"\"Checks that AST nodes whose type names are present in DISALLOW\r\n    (an object supporting 'in') are not present in the function(s) named\r\n    CHECKED_FUNCS in SOURCE.  By default, SOURCE is the contents of the\r\n    file SOURCE_FILE.  CHECKED_FUNCS is either a string (indicating a single\r\n    name) or an object of some other type that supports 'in'. CHECKED_FUNCS\r\n    may contain __main__ to indicate an entire  module. Prints reports of\r\n    each prohibited node and returns True iff none are found.\r\n    See ast.__dir__() for AST type names.  The special node name 'Recursion'\r\n    checks for overtly recursive calls (i.e., calls of the form NAME(...) where\r\n    NAME is an enclosing def.\"\"\"\r\n    return ExclusionChecker(disallow).check(source_file, checked_funcs, source)\r\nclass ExclusionChecker(NodeVisitor):\r\n    \"\"\"An AST visitor that checks that certain constructs are excluded from\r\n    parts of a program.  ExclusionChecker(EXC) checks that AST node types\r\n    whose names are in the sequence or set EXC are not present.  Its check\r\n    method visits nodes in a given function of a source file checking that the\r\n    indicated node types are not used.\"\"\"\r\n\r\n    def __init__(self, disallow=()):\r\n        \"\"\"DISALLOW is the initial default list of disallowed\r\n        node-type names.\"\"\"\r\n        self._disallow = set(disallow)\r\n        self._checking = False\r\n        self._errs = 0\r\n\r\n    def generic_visit(self, node):\r\n        if self._checking and type(node).__name__ in self._disallow:\r\n            self._report(node)\r\n        super().generic_visit(node)\r\n\r\n    def visit_Module(self, node):\r\n        if \"__main__\" in self._checked_funcs:\r\n            self._checking = True\r\n            self._checked_name = self._source_file\r\n        super().generic_visit(node)\r\n\r\n    def visit_Call(self, node):\r\n        if 'Recursion' in self._disallow and \\\r\n           type(node.func) is Name and \\\r\n           node.func.id in self._func_nest:\r\n            self._report(node, \"should not be recursive\")\r\n        self.generic_visit(node)\r\n\r\n    def visit_FunctionDef(self, node):\r\n        self._func_nest.append(node.name)\r\n        if self._checking:\r\n            self.generic_visit(node)\r\n        elif node.name in self._checked_funcs:\r\n            self._checked_name = \"Function \" + node.name\r\n            checking0 = self._checking\r\n            self._checking = True\r\n            super().generic_visit(node)\r\n            self._checking = checking0\r\n        self._func_nest.pop()\r\n\r\n    def _report(self, node, msg=None):\r\n        node_name = _NAMES.get(type(node).__name__, type(node).__name__)\r\n        if msg is None:\r\n            msg = \"should not contain '{}'\".format(node_name)\r\n        print(\"{} {}\".format(self._checked_name, msg))\r\n        self._errs += 1\r\n\r\n    def errors(self):\r\n        \"\"\"Returns the number of number of prohibited constructs found in\r\n        the last call to check.\"\"\"\r\n        return self._errs\r\n\r\n    def check(self, source_file, checked_funcs, disallow=None, source=None):\r\n        \"\"\"Checks that AST nodes whose type names are present in DISALLOW\r\n        (an object supporting the contains test) are not present in\r\n        the function(s) named CHECKED_FUNCS in SOURCE.  By default, SOURCE\r\n        is the contents of the file SOURCE_FILE.  DISALLOW defaults to the\r\n        argument given to the constructor (and resets that value if it is\r\n        present).  CHECKED_FUNCS is either a string (indicating a single\r\n        name) or an object of some other type that supports 'in'.\r\n        CHECKED_FUNCS may contain __main__ to indicate an entire module.\r\n        Prints reports of each prohibited node and returns True iff none\r\n        are found.\r\n        See ast.__dir__() for AST type names.  The special node name\r\n        'Recursion' checks for overtly recursive calls (i.e., calls of the\r\n        form NAME(...) where NAME is an enclosing def.\"\"\"\r\n\r\n        self._checking = False\r\n        self._source_file = source_file\r\n        self._func_nest = []\r\n        if type(checked_funcs) is str:\r\n            self._checked_funcs = { checked_funcs }\r\n        else:\r\n            self._checked_funcs = set(checked_funcs)\r\n        if disallow is not None:\r\n            self._disallow = set(disallow)\r\n        if source is None:\r\n            with open(source_file, 'r', errors='ignore') as inp:\r\n                source = inp.read()\r\n        p = parse(source, source_file)\r\n        self._errs = 0\r\n\r\n        self.visit(p)\r\n        return self._errs == 0\r\n\r\n\r\nfrom homework import *\r\nimport sys\r\nimport io\r\nprint(\"=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\")\r\nclass Test:\r\n    def assertEqual(self, a, b):\r\n        return a==b\r\n\r\n    def __init__(self, question):\r\n        self.question = question\r\n        self.tests_passed = 0\r\n\r\n    def test(self, suppress=False):\r\n        if suppress:\r\n            # create a text trap and redirect stdout\r\n            text_trap = io.StringIO()\r\n            sys.stdout = text_trap\r\n        print(\"---------------------------------------------------------------------\\n\")\r\n        print(\"Testing {}:\\n\".format(self.question['functionName'] if self.question['advancedSetting']['testName'].strip() == \"\" else self.question['advancedSetting']['testName']))\r\n\r\n        for testCase in self.question['testCases']:\r\n            if not self.test_one_pair(testCase):\r\n                print(\"{} test(s) passed before encountering the first failed case.\".format(self.tests_passed))\r\n                print(\"\\n---------------------------------------------------------------------\")\r\n\r\n                sys.stdout = sys.__stdout__\r\n                return (False, 0)\r\n\r\n        comma = \",\" if self.question['advancedSetting']['disallowedUse'] else \"\"\r\n        disallowedUse = eval(\"(\" + self.question['advancedSetting']['disallowedUse'] + comma + \")\")\r\n        if disallowedUse:\r\n            if (not check(\"homework.py\", self.question['functionName'], disallowedUse)):\r\n                print(\"Please revise your code and remove these usages.\")\r\n                print(\"\\n---------------------------------------------------------------------\")\r\n\r\n                sys.stdout = sys.__stdout__\r\n                return (False, 0)\r\n        print(\"All {} cases passed. No cases failed.\".format(len(self.question['testCases'])))\r\n        print(\"\\n---------------------------------------------------------------------\")\r\n\r\n        sys.stdout = sys.__stdout__\r\n        return (True, int(self.question[\"advancedSetting\"][\"fullScore\"]))\r\n\r\n    def test_one_pair(self, testCase):\r\n        try:\r\n            expected = eval(testCase[1])\r\n        except:\r\n            print(\"It's not you, it's the teacher! \\n\" +\r\n                \"There's an error in the test case: cannot evaluate '\" + testCase[1] + \"'\\n\" +\r\n                \"Please contact your teacher. \\n\")\r\n            return False\r\n        funcCallRepr = self.question[\"functionName\"] + \"(\" + testCase[0] + \")\"\r\n        try:\r\n            answer = eval(self.question[\"functionName\"] + \"(\" + testCase[0] + \")\")\r\n        except Exception as ex:\r\n            print(\"Running {}:\\n\".format(funcCallRepr))\r\n            print(traceback.format_exc())\r\n            print(\"Current test terminated.\\n\")\r\n            return False\r\n\r\n        if self.assertEqual(answer, expected):\r\n            self.tests_passed += 1\r\n            return True\r\n        else:\r\n            print(\"Running {}:\".format(funcCallRepr))\r\n            print(\"Expected: {}\\nGot: {}\\n\".format(expected.__repr__(), answer.__repr__()))\r\n            return False\r\n\r\n# questionNames = [ question['functionName'] if question['advancedSetting']['testName'].strip() == \"\" else question['advancedSetting']['testName'] for question in d[\"tests\"]]\r\nquestionD = {question['functionName']\r\n    if question['advancedSetting']['testName'].strip() == \"\"\r\n    else question['advancedSetting']['testName']\r\n    :\r\n    Test(question)\r\n    for question in d[\"tests\"]  #d is the autoAG file content (a dictionary). Open a file to see it's structure\r\n    }\r\nif len(sys.argv) > 1:\r\n    assert sys.argv[1] in questionD, \"\\nThe command line argument you passed in is not a valid function name; choose from {}\\n\".format(list(questionD.keys()).__repr__())\r\n    questionD[sys.argv[1]].test()\r\nelse:\r\n    result = [t.test(suppress=True) for t in questionD.values()]\r\n\r\n    passed = str(sum([1 for x in result if x[0]]))\r\n    score = str(sum([x[1] for x in result]))\r\n    print(\"Ran:\", len(result), \"tests\")\r\n    print(\"Passed:\", passed)\r\n    if d[\"pointsEnabled\"]:\r\n        print(\"Total score: \" + score + \"/\" + str(sum([int(t[\"advancedSetting\"][\"fullScore\"]) for t in d[\"tests\"]])))\r\nprint(\"=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\")\r\n";var Ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=a.handleInputChange.bind(Object(m.a)(Object(m.a)(a))),a.state={formState:{pointsEnabled:!1,starterCode:"",tests:[{functionName:"",functionParams:"",description:"",testCases:[["",""]],advancedSetting:{fullScore:"1",testType:"simple",testName:"",partialCredits:"none",skeletonCode:"'*** YOUR CODE HERE ***'",disallowedUse:""}}]}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleInputChange",value:function(e){var t,a=this,n=this.state.formState;switch(e.target.name){case"save":!function(e,t,a){var n=new Blob([e],{type:a});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var r=document.createElement("a"),s=URL.createObjectURL(n);r.href=s,r.download=t,document.body.appendChild(r),r.click(),setTimeout(function(){document.body.removeChild(r),window.URL.revokeObjectURL(s)},0)}}(JSON.stringify(this.state.formState,null,2),"MySession_at_"+(new Date).toLocaleString().replace(", ","_").replace(" ","_")+".autoAG","text/plain");break;case"import":var r=document.getElementById("importFile"),s=new FileReader;s.onload=function(e){a.setState({formState:JSON.parse(e.target.result)})},r.files[0]&&s.readAsText(r.files[0]);break;case"export":var l=new Ce.a;l.folder("homework").file("homework.py",he(this.state.formState)).file("test",(t=this.state.formState,'true = True \nfalse = False\nd = eval("'+JSON.stringify(t).replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"')+'")\n'+ye)),l.generateAsync({type:"blob"}).then(function(e){Oe.a.saveAs(e,"homework.zip")});break;case"pointsEnabled":n.pointsEnabled=e.target.checked;break;case"starterCode":n.starterCode=e.target.value;break;case"addTest":n.tests.push({functionName:"",functionParams:"",description:"",testCases:[["",""]],advancedSetting:{fullScore:"1",testType:"simple",testName:"",partialCredits:"none",skeletonCode:"'*** YOUR CODE HERE ***'",disallowedUse:""}});break;case"testType":n.tests[e.target.dataset.testid].advancedSetting.testType=e.target.value;break;case"fullScore":n.tests[e.target.dataset.testid].advancedSetting.fullScore=e.target.value;break;case"functionName":n.tests[e.target.dataset.testid].functionName=e.target.value;break;case"functionParams":n.tests[e.target.dataset.testid].functionParams=e.target.value;break;case"formDescription":n.tests[e.target.dataset.testid].description=e.target.value;break;case"addTestCase":n.tests[e.target.dataset.testid].testCases.push(["",""]);break;case"testCaseInput":n.tests[e.target.dataset.testid].testCases[e.target.dataset.testcaseid][0]=e.target.value;break;case"testCaseOutput":n.tests[e.target.dataset.testid].testCases[e.target.dataset.testcaseid][1]=e.target.value;break;case"testName":n.tests[e.target.dataset.testid].advancedSetting.testName=e.target.value;break;case"partialCredits":n.tests[e.target.dataset.testid].advancedSetting.partialCredits=e.target.value;break;case"skeletonCode":n.tests[e.target.dataset.testid].advancedSetting.skeletonCode=e.target.value;break;case"disallowedUse":n.tests[e.target.dataset.testid].advancedSetting.disallowedUse=e.target.value;break;case"headerButtonUp":if(e.stopPropagation(),0!=e.target.dataset.testid){var o=n.tests[e.target.dataset.testid];n.tests[e.target.dataset.testid]=n.tests[e.target.dataset.testid-1],n.tests[e.target.dataset.testid-1]=o}break;case"headerButtonDown":if(e.stopPropagation(),e.target.dataset.testid!=n.tests.length-1){o=n.tests[e.target.dataset.testid];n.tests[e.target.dataset.testid]=n.tests[parseInt(e.target.dataset.testid)+1],n.tests[parseInt(e.target.dataset.testid)+1]=o}break;case"headerButtonDelete":e.stopPropagation(),n.tests.splice(e.target.dataset.testid,1);break;case"headerButtonDuplicate":e.stopPropagation(),n.tests.splice(parseInt(e.target.dataset.testid)+1,0,JSON.parse(JSON.stringify(n.tests[e.target.dataset.testid])));break;case"testCaseDelete":e.preventDefault(),n.tests[e.target.dataset.testid].testCases.splice(e.target.dataset.testcaseid,1);break;default:return void console.log("Should go here, exiting...")}this.setState({formState:n})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I,{formHandler:this.handleInputChange}),r.a.createElement(p.a,{className:"split",sizes:[60,40],minSize:[350,200]},r.a.createElement(se,{formState:this.state.formState,formHandler:this.handleInputChange}),r.a.createElement(ve,{className:"outputField",formState:this.state.formState})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ne,null),document.getElementById("root")),window.onbeforeunload=function(){return!0},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,a){e.exports=a(348)},89:function(e,t,a){},95:function(e,t,a){}},[[82,2,1]]]);
//# sourceMappingURL=main.5e5ac56a.chunk.js.map